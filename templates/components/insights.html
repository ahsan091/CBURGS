<!-- Insights Section - Terminal Style -->
<section id="insights" class="section insights-section">
    <style>
        .insights-section {
            background: #0a0f1a;
            /* Dark background */
        }

        .insights-terminal-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .terminal-card {
            display: block;
            background: rgba(10, 15, 26, 0.8);
            border: 1px solid rgba(16, 185, 129, 0.15);
            /* Primary color low opacity */
            border-left: 2px solid var(--primary);
            /* Accent border */
            padding: 24px 30px;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-family: 'JetBrains Mono', monospace;
        }

        .terminal-card:hover {
            border-color: var(--primary);
            background: rgba(16, 185, 129, 0.03);
            transform: translateX(5px);
            box-shadow: -5px 0 15px -5px rgba(16, 185, 129, 0.2);
        }

        /* Header */
        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 12px;
        }

        .terminal-title {
            font-size: 1.25rem;
            color: var(--primary);
            font-weight: 500;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .terminal-date {
            font-size: 0.85rem;
            color: var(--text-muted);
            opacity: 0.7;
        }

        /* Excerpt */
        .terminal-excerpt {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 16px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            max-width: 90%;
            line-clamp: 2;
        }

        /* Tags */
        .terminal-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .terminal-tag {
            font-size: 0.75rem;
            color: var(--text-muted);
            background: rgba(255, 255, 255, 0.05);
            padding: 4px 10px;
            border-radius: 4px;
            transition: color 0.2s;
        }

        .terminal-card:hover .terminal-tag {
            color: var(--text-primary);
            background: rgba(16, 185, 129, 0.1);
        }

        /* Blink cursor effect on hover? */
        .terminal-title::before {
            content: '> ';
            color: var(--text-muted);
            opacity: 0.5;
            transition: all 0.3s;
        }

        .terminal-card:hover .terminal-title::before {
            color: var(--primary);
            opacity: 1;
            padding-right: 5px;
        }
    </style>

    <div class="section-header">
        <span class="section-badge">Knowledge Hub</span>
        <h2 class="section-title">Cyber Insights</h2>
        <p class="section-subtitle">
            Stay informed with the latest cybersecurity trends, threats, and defense strategies
            through our expert insights and analysis.
        </p>
    </div>



    <!-- Terminal List Layout -->
    <div class="insights-terminal-list stagger">
        {% if blogs %}
        {% for blog in blogs %}
        <a href="/blog/{{ blog.filename }}"
            class="terminal-card reveal-up {% if loop.index > 3 %}archived-post{% endif %}"
            data-category="{{ blog.category }}" {% if loop.index> 3 %}style="display: none;"{% endif %}>

            <div class="terminal-header">
                <h3 class="terminal-title">{{ blog.title }}</h3>
                <span class="terminal-date">{{ blog.date }}</span>
            </div>

            <p class="terminal-excerpt">
                {{ blog.excerpt }}
            </p>

            <div class="terminal-tags">
                <!-- Generating fake tags based on category effectively -->
                <span class="terminal-tag">#{{ blog.category }}</span>
                <span class="terminal-tag">#security</span>
                <span class="terminal-tag">#cyberburgs</span>
            </div>
        </a>
        {% endfor %}
        {% else %}
        <!-- Fallback Terminal Message -->
        <div class="terminal-card" style="text-align: center; border-left: 2px solid var(--text-muted);">
            <p style="font-family: 'JetBrains Mono'; color: var(--text-muted);">
                <span class="pulse">_</span> Connectivity established. Retrieving artifacts...
                <br>
                <span style="font-size: 0.8rem; opacity: 0.6;">(Check back in a few moments)</span>
            </p>
        </div>
        {% endif %}
    </div>

    <!-- View All Button (Only if > 3 posts) -->
    {% if blogs|length > 3 %}
    <div class="insights-cta" style="margin-top: 50px;">
        <button onclick="revealArchive()" class="view-all-btn" id="archiveBtn"
            style="font-family: 'JetBrains Mono'; background: transparent; border: 1px solid var(--primary); color: var(--primary); padding: 10px 20px; cursor: pointer; display: inline-flex; align-items: center; gap: 10px; transition: all 0.3s;">
            ./view_archive.sh
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
        </button>
    </div>

    <script>
        function revealArchive() {
            // Find all hidden posts
            const hiddenPosts = document.querySelectorAll('.archived-post');
            const btn = document.getElementById('archiveBtn');

            // Reveal them with a nice fade effect if possible, or just display
            hiddenPosts.forEach(post => {
                post.style.display = 'block';
                // Trigger animation if utilizing the reveal-up class
                post.style.animation = 'none';
                post.offsetHeight; /* trigger reflow */
                post.style.animation = null;
            });

            // Hide or update the button
            btn.style.display = 'none';
        }
    </script>
    {% endif %}
</section>
